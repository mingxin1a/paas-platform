# SuperPaaS 前端控制台使用说明

## 概述

前端控制台（`frontend/`）为 React + TypeScript + Vite 单页应用，对接网关 API，提供各细胞模块的概览、列表与详情展示，UI/UE 符合现代企业应用要求。

## 功能

- **概览**：各细胞健康状态卡片，点击进入对应模块
- **细胞模块**：按模块（CRM、ERP、WMS、HRM 等）查看主列表与详情（支持 GET by id 的模块可点详情）
- **明/暗主题**：右上角切换，遵循系统或手动选择
- **动态水印**：全屏水印（用户名 + 时间），满足 01 4.1 占位要求
- **数据访问记录**：导航栏入口，透明化审计占位（待对接审计 API）

## 开发

```bash
cd frontend
npm install
npm run dev
```

浏览器访问 `http://localhost:5173`。开发时 Vite 将 `/api`、`/health` 代理到 `http://localhost:8000`，请先启动网关（及需要联调的细胞）。

## 生产部署

### 方式一：与网关同域（推荐）

1. 构建前端：`cd frontend && npm run build`
2. 启动网关时指定静态目录：
   ```bash
   set GATEWAY_STATIC_DIR=frontend\dist
   python -m platform_core.core.gateway.app
   ```
   或 `export GATEWAY_STATIC_DIR=frontend/dist`（Linux/macOS）
3. 访问 `http://<网关>:8000/` 即为控制台，`/api/v1/...` 仍为 API。

### 方式二：前后端分离

1. 将 `frontend/dist` 部署到 Nginx 或任意静态托管（可放在子路径，如 `/console/`）
2. 构建时设置网关地址：`VITE_GATEWAY_URL=https://api.example.com`，则前端请求会发往该网关
3. 若控制台与网关同域且使用 Nginx 反向代理，可不设 `VITE_GATEWAY_URL`，由 Nginx 将 `/api` 转发到网关

## UI/UE 说明

- **字体**：Plus Jakarta Sans，无衬线、易读
- **色彩**：主色蓝靛（#2563eb），背景与表面区分清晰，支持暗色主题
- **布局**：响应式；桌面端固定侧栏，移动端侧栏收起到头部菜单
- **状态**：列表加载骨架/旋转、空态、错误态统一处理；表格支持横向滚动

## 合规占位

- **动态水印**：`src/components/Watermark.tsx`，生产可接入真实用户名与 IP
- **透明化审计**：`src/pages/AuditLog.tsx`，待对接后端 trace_id 访问日志
- **安全态势可视化**：登录/支付等敏感操作按《前端感知安全需求说明》后续补充
