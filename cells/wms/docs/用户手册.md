# WMS 细胞 - 用户手册

**版本**：1.0.0 | **细胞**：仓储管理（WMS）

## 1. 概述

本细胞提供入库、出库、库位、库存、批次追踪能力，经 PaaS 网关 `/api/v1/wms` 暴露。

## 2. 功能入口（API）

| 能力 | 方法 | 路径示例 |
|------|------|----------|
| 健康检查 | GET | /health |
| 库存 | GET | /inventory?warehouseId=&skuId= |
| 入库单 | GET/POST | /inbound-orders |
| 入库行/收货 | POST | /inbound-orders/{id}/lines, /inbound-orders/{id}/receive |
| 出库单 | GET/POST | /outbound-orders |
| 出库行/发货 | POST | /outbound-orders/{id}/lines, /outbound-orders/{id}/ship |
| 库位 | GET/POST | /locations |
| 批次 | GET | /lots, /lots/fifo |

POST 需 X-Tenant-Id、X-Request-ID（幂等）。

## 3. 典型流程

- **入库**：创建入库单 → 添加行（SKU、数量、可选批次）→ 调用 receive 确认收货（更新库存与批次）。
- **出库**：创建出库单 → 添加行 → 调用 ship 确认发货（扣减库存）。
- **FIFO**：GET /lots/fifo?warehouseId=&skuId=&quantity= 获取先进先出建议。

## 4. 约束

- 独立 Schema，禁止跨细胞库直连。事件语义：wms.stock.updated, wms.inbound.completed, wms.outbound.completed。
