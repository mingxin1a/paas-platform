# WMS 自主产品规格说明书

**角色**：CPO + CA + DR | **依据**：Oracle WMS、SAP EWM 等业界实践。

---

## 1. 产品愿景

WMS 细胞提供**可付费的仓储管理能力**：入库/出库管理、库位优化、批次追踪、库存可见性，经 PaaS 网关暴露，开箱即用。

---

## 2. 功能全景

### 2.1 入库管理

| 功能项 | 描述 | 状态 |
|--------|------|------|
| 入库单创建 | 入库单号、仓库、状态（草稿/收货中/已上架/关闭） | 本期实现 |
| 入库单行 | SKU、数量、批次号（可选） | 本期实现 |
| 收货确认 | 确认收货数量，更新库存 | 本期实现 |
| 上架建议 | 推荐库位（按空位、ABC） | 规划 |

### 2.2 出库管理

| 功能项 | 描述 | 状态 |
|--------|------|------|
| 出库单创建 | 出库单号、仓库、状态 | 本期实现 |
| 出库单行 | SKU、需求数量 | 本期实现 |
| 拣货/发货确认 | 扣减库存，更新状态 | 本期实现 |
| 波次与拣货路径 | 波次合并、路径优化 | 规划 |

### 2.3 库位与库存

| 功能项 | 描述 | 状态 |
|--------|------|------|
| 库位主数据 | 仓库、区、通道、层、位 | 本期实现 |
| 库存查询 | 按仓库/SKU/库位/批次 | 本期实现 |
| 库位优化 | 上架策略、拣货策略配置 | 规划 |

### 2.4 批次追踪

| 功能项 | 描述 | 状态 |
|--------|------|------|
| 批次记录 | 批次号、SKU、库位、数量、生产/到期日 | 本期实现 |
| 批次查询 | 按批次号/SKU 追溯 | 本期实现 |
| 先进先出 | 按到期日推荐出库批次 | 本期实现 |

### 2.5 报表与集成

| 功能项 | 描述 | 状态 |
|--------|------|------|
| 库存汇总/明细 | API 返回 | 本期实现 |
| 事件发布 | wms.stock.updated, wms.inbound.completed, wms.outbound.completed | 本期实现（语义就绪） |
| 与 ERP/MES 协同 | 订阅订单、工单事件 | 规划 |

---

## 3. 本期实现范围

- 入库单 CRUD、行项目、收货确认（更新库存）。
- 出库单 CRUD、行项目、发货确认（扣减库存）。
- 库位主数据、库存按仓库/SKU/库位查询。
- 批次表、入库/出库带批次、批次查询与 FIFO 建议。
- 健康检查、幂等、X-Tenant-Id、X-Response-Time。
- 用户手册、部署指南、许可证；verify_delivery 通过。

---

## 4. 版本

- 当前对应 **WMS v1.0.0**（本期实现完成后 production_ready）。
